(this.webpackJsonpyatzy=this.webpackJsonpyatzy||[]).push([[0],{132:function(e,n,t){"use strict";t.r(n);var r,a,c,s,o,i,l,u,p,j,d,b,f,x,O,h,m,y,g,v,k,w,z,C,S,E,T,R=t(4),I=t(1),P=t(35),N=t.n(P),D=t(70),U=t(5),L=t(9),M=t(3),A=t(24),Y=t(2),J=t.n(Y),H=t(6),G=t(23),K=t.n(G),V="http://localhost:3003/api/points",W=function(){var e=Object(H.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get(V);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(H.a)(J.a.mark((function e(){var n,t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return n=e.sent,e.next=5,n.map((function(e){return console.log("deelte",K.a.delete("".concat(V,"/").concat(e.id)))}));case 5:return t=e.sent,console.log("deleteAll ",t.data),e.abrupt("return",t.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(H.a)(J.a.mark((function e(n,t,r){var a,c,s,o,i,l;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return a=e.sent,e.next=5,a.find((function(e){return e.player===n}));case 5:return c=e.sent,s=c.id,(o=c.points)[t]=r,i=Object(A.a)(Object(A.a)({},c),{},{points:Object(A.a)({},o)}),e.next=12,K.a.put("".concat(V,"/").concat(s),i);case 12:return l=e.sent,e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Z={getAll:W,postPoints:function(){var e=Object(H.a)(J.a.mark((function e(n){var t,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={points:{ykkoset:0,kakkoset:0,kolmoset:0,neloset:0,vitoset:0,kutoset:0,valisumma:0,bonus:0,pari:0,kaksiparia:0,kolmesamaa:0,neljasamaa:0,pikkusuora:0,isosuora:0,tayskasi:0,sattuma:0,yatzy:0,pisteet:0},player:n},e.next=3,K.a.post(V,t);case 3:return r=e.sent,console.log("response dataaa",r.data),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),deleteAll:B,updatePoints:X},F=function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){var r;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("players reducerista ",e),n.next=3,Promise.all(e.map(function(){var e=Object(H.a)(J.a.mark((function e(n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.postPoints(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:r=n.sent,console.log("done",r),t({type:"INITPOINTS",points:r});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},q=function(e,n,t){return function(){var r=Object(H.a)(J.a.mark((function r(a){return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Z.updatePoints(e,n,t);case 2:a({type:"ADDTURNSPOINTS",player:e,combination:n,points:t});case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITPOINTS":return n.points;case"ADDTURNSPOINTS":var t=e.find((function(e){return e.player===n.player})),r=t.points,a=n.combination;r[a]=n.points;var c=Object(A.a)(Object(A.a)({},t),{},{points:Object(A.a)({},r)});return e.map((function(e){return e.player!==t.player?e:c}));default:return e}},$=function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"INITIALIZETURN",maxTurns:e.length-1,turn:0,player:e[0]});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(e,n,t){return function(){var r=Object(H.a)(J.a.mark((function r(a){var c;return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("turn = ",n,"maxTurn =",t),c=n===t?0:n+1,a({type:"NEXTTURN",maxTurns:e.length-1,turn:c,player:e[c]});case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITIALIZETURN":case"NEXTTURN":return{turn:n.turn,maxTurns:n.maxTurns,player:n.player};default:return e}},ne=U.a.div(r||(r=Object(R.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 25px;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),te=U.a.div(a||(a=Object(R.a)(['\npadding: 0px;\ncolor:white;\nfont-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\n\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;']))),re=U.a.button(c||(c=Object(R.a)(["\nmargin: 10px;\npadding:0x;\nbackground: transparent;\nborder: 5px groove rgba(20,20,20,0.17);\n&:hover {\n  background: \trgb(255,240,219,0.5)\n  \n}\n\n\n"]))),ae=U.a.div(s||(s=Object(R.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 17x;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),ce=U.a.input(o||(o=Object(R.a)(["\n\npadding:6px;\nfont-size: 25px;\nborder-width: 0px;\nbox-shadow: 0px 0px 5px rgba(66,66,66,.75);\n   background: transparent;\n   border: 5px groove rgba(20,20,20,0.17);\n   &:hover {\n    background: rgb(250, 249, 249,0.4)\n    \n  }\n   \n"]))),se=U.a.div(i||(i=Object(R.a)(["\nfont-family: \"Lucida Console\", Monaco, monospace;\nfont-size: 27px;\nletter-spacing: 0px;\nword-spacing: 0px;\ncolor: #000000;\nfont-weight: 700;\ntext-decoration: none;\nfont-style: normal;\nfont-variant: normal;\ntext-transform: none;\npadding: 10px;\ntextDecoration: 'none';\n&:hover {\nbackground: rgb(255,240,219,0.5)\n}\n\n"]))),oe=U.a.nav(l||(l=Object(R.a)(["\ndisplay: flex;\nflex-direction: row;\nbackground: rgba(7,7,7, 0.1);\njustify-content: space-around;\nheight : 45px;\n\n"]))),ie=U.a.div(u||(u=Object(R.a)(["\nborder: 10px groove rgba(20,20,20,0.17);\nbox-sizing: content-box;\nmargin: 75px;\nwidth: 1200px;\nheight: 400px;\npadding: 5px;\ndisplay:flex;\nflex-direction: column;\njustify-content: flex-end;\noverflow: auto;\n"]))),le=U.a.div(p||(p=Object(R.a)(["\nwidth: 900px;\ncolor:black;\nfont-size: 25px;\njustify-content: left;\ntext-align: left;\n\n"]))),ue=U.a.div(j||(j=Object(R.a)(["\noverflow-y: scroll\n"]))),pe=U.a.div(d||(d=Object(R.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 40px;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),je=t(0),de=U.a.table(b||(b=Object(R.a)(["\n\n    margin-left: auto;\n    margin-right: auto;\n    display:flex;\n    justify-content: center;\n    row-gap: 20px;\n    column-gap: 2rem;\n    border-collapse: collapse; \n\n  \n    \n\n    "]))),be=U.a.td(f||(f=Object(R.a)(['\n\ndisplay:flex;\njustify-content:center;\n color:white;\n font-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\n\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;\n    ']))),fe=U.a.tr(x||(x=Object(R.a)(["\n\n\nborder: 5px groove rgba(20,20,20,0.17);\nborder-radius: 40px 40px 40px 40px;\n\n"]))),xe=U.a.td(O||(O=Object(R.a)(["\n        padding : 5px; \n        width : 70px;   \n        font : cursive;\n        color: white;\n        font-size: 25px;\n        \n        "]))),Oe=U.a.td(h||(h=Object(R.a)(["\nwidth: 40px;\n"]))),he=U.a.input(m||(m=Object(R.a)(["\nwidth : 65px;   \n        border-style: double;\n        background: transparent;\n        border: 3px groove rgba(164,164,164,0.17);\n        &:hover {\n          background: #fff0db;\n          \n        }\n\n        "]))),me=U.a.td(y||(y=Object(R.a)(['\n color:white;\n font-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;\npadding: 10px;\n']))),ye=function(){var e=Object(M.b)(),n=Object(I.useState)([]),t=Object(L.a)(n,2),r=t[0],a=t[1],c=["ykkoset","kakkoset","kolmoset","neloset","vitoset","kutoset","valisumma","bonus","pari","kaksiparia","kolmesamaa","neljasamaa","pikkusuora","isosuora","tayskasi","sattuma","yatzy","pisteet"],s=Object(M.c)((function(e){return e.players})),o=Object(M.c)((function(e){return e.turn})),i=Object(M.c)((function(e){return e.socket}));console.log("turn",o);Object(I.useEffect)((function(){i.on("valisummaPoints",(function(n){console.log("valsummaallPoisnts",n),n.map((function(n){return e(q(n.player,"valisumma",j(n.points)))})),n.map((function(n){return e(q(n.player,"bonus",j(n.points)<63?0:50))}))})),i.on("allPoints",(function(n){n.map((function(n){return e(q(n.player,"pisteet",p(n.points)))}))}))}),[""]),Object(I.useEffect)((function(){return i.on("turns-stats",(function(n,t,r){console.log("turns stats"),e(q(n,t,Number(r))),e(_(s,o.turn,o.maxTurns))})),function(){i.off("turns-stats")}}),[o]);var l=function(e){e.preventDefault(),console.log("target.name ",e.target.name);var n=e.target.name.split(",");n.push(e.target.value),a(n)},u=Object(M.c)((function(e){return e.points})),p=function(e){return Object.values(e).slice(6,15).reduce((function(e,n){return e+n}),0)},j=function(e){return Object.values(e).slice(0,6).reduce((function(e,n){return e+n}),0)};return Object(je.jsxs)("div",{children:[Object(je.jsx)(de,{children:Object(je.jsxs)("tbody",{children:[Object(je.jsxs)(fe,{children:[Object(je.jsx)(Oe,{}),s.map((function(e){return Object(je.jsx)(me,{children:e},"nimikentta"+e)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[0]}),u.map((function(e){return 0===e.points.ykkoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[0],e.player],onChange:l})," "]},"ykkosetinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.ykkoset," "]},"ykkoset"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[1]}),u.map((function(e){return 0===e.points.kakkoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[1],e.player],onChange:l})," "]},"kakkosetinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.kakkoset," "]},"kakkoset"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[2]}),u.map((function(e){return 0===e.points.kolmoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[2],e.player],onChange:l})," "]},"kolmosetinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.kolmoset," "]},"kolmoset"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[3]}),u.map((function(e){return 0===e.points.neloset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[3],e.player],onChange:l})," "]},"nelosettinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.neloset," "]},"neloset"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[4]}),u.map((function(e){return 0===e.points.vitoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[4],e.player],onChange:l})," "]},"vitosetinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.vitoset," "]},"vitoset"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[5]}),u.map((function(e){return 0===e.points.kutoset&&e.player===o.player?Object(je.jsx)("td",{children:Object(je.jsx)(he,{name:[c[5],e.player],onChange:l})},"kutosetinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.kutoset," "]},"kutoset"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[6]}),u.map((function(e){return Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.valisumma," "]},"valisumma"+e.player)})),Object(je.jsx)("td",{children:Object(je.jsx)(re,{onClick:function(){u.map((function(n){return e(q(n.player,"valisumma",j(n.points)))})),u.map((function(n){return e(q(n.player,"bonus",j(n.points)<63?0:50))})),i.emit("valisumma-calculation",u)},children:Object(je.jsx)(ae,{children:"Laske"})})})]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[7]}),u.map((function(e){return Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.bonus," "]},"bonus"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[8]}),u.map((function(e){return 0===e.points.pari&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[8],e.player],onChange:l})," "]},"pariinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.pari," "]},"pari"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[9]}),u.map((function(e){return 0===e.points.kaksiparia&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[9],e.player],onChange:l})," "]},"kaksipariainput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.kaksiparia," "]},"kaksiparia"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[10]}),u.map((function(e){return 0===e.points.kolmesamaa&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[10],e.player],onChange:l})," "]},"kolmesamaainput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.kolmesamaa," "]},"kolmesamaa"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[11]}),u.map((function(e){return 0===e.points.neljasamaa&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[11],e.player],onChange:l})," "]},"neljasamaainput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.neljasamaa," "]},"neljasamaa"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[12]}),u.map((function(e){return 0===e.points.pikkusuora&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[12],e.player],onChange:l})," "]},"pikkusuorainput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.pikkusuora," "]},"pikkusuora"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[13]}),u.map((function(e){return 0===e.points.isosuora&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[13],e.player],onChange:l})," "]},"isosuorainput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.isosuora," "]},"isosuora"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[14]}),u.map((function(e){return 0===e.points.tayskasi&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[14],e.player],onChange:l})," "]},"tayskasiinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.tayskasi," "]},"tayskasi"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[15]}),u.map((function(e){return 0===e.points.sattuma&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[15],e.player],onChange:l})," "]},"sattumainput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.sattuma," "]},"sattuma"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[16]}),u.map((function(e){return 0===e.points.yatzy&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[16],e.player],onChange:l})," "]},"yatzyinput"+e.player):Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.yatzy," "]},"yatzy"+e.player)}))]}),Object(je.jsxs)(fe,{children:[Object(je.jsx)(be,{children:c[17]}),u.map((function(e){return Object(je.jsxs)(xe,{name:e.player,children:[" ",e.points.pisteet," "]},"pisteet"+e.player)})),Object(je.jsx)("td",{children:Object(je.jsx)(re,{onClick:function(){u.map((function(n){return e(q(n.player,"pisteet",p(n.points)))})),i.emit("allPoints-calculation",u)},children:Object(je.jsx)(ae,{children:"Laske"})})})]})]})}),Object(je.jsx)(re,{onClick:function(){var n=r[1],t=r[0],a=r[2];e(q(n,t,Number(a))),i.emit("turn-ready",n,t,a,o.turn,o.maxturns),e(_(s,o.turn,o.maxTurns))},children:Object(je.jsx)(ne,{children:"Ready"})})]})},ge={login:function(){var e=Object(H.a)(J.a.mark((function e(n){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("http://localhost:3003/api/login",n);case 2:return t=e.sent,console.log("loginservice response",t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(H.a)(J.a.mark((function e(n){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("http://localhost:3003/api/users",n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},ve=function(e,n){e.emit("add-online-user",n),console.log("socketsrvicesta\xe4 added ",n)},ke=function(e,n){return function(){var t=Object(H.a)(J.a.mark((function t(r){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge.login(n);case 2:a=t.sent,console.log("userobject",a),ve(e,a.username),window.localStorage.setItem("loggedUser",JSON.stringify(a)),r({type:"STOREUSER",user:a});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"STOREUSER":return n.user;default:return e}},ze=t(8),Ce=U.a.div(g||(g=Object(R.a)(["\npadding:100px;\n\n"]))),Se=function(){var e=Object(ze.f)(),n=Object(M.b)(),t=Object(I.useState)(""),r=Object(L.a)(t,2),a=r[0],c=r[1],s=Object(I.useState)(""),o=Object(L.a)(s,2),i=o[0],l=o[1],u=Object(M.c)((function(e){return e.socket})),p=function(){var t=Object(H.a)(J.a.mark((function t(r){var c,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),c={username:a,password:i},console.log(c),t.next=5,n(ke(u,c));case 5:s=t.sent,console.log("loggedinuser = ",s),e.push("/yatzyroom"),u.emit("joined-yatzyroom",c.username);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(je.jsxs)(Ce,{children:[Object(je.jsx)(ne,{children:"Log `n` roll! "}),Object(je.jsxs)("form",{onSubmit:p,children:[Object(je.jsxs)("div",{children:[Object(je.jsx)(ne,{children:"Username"}),Object(je.jsx)(ce,{id:"username",type:"text",value:a,name:"Username",onChange:function(e){return c(e.target.value)}})]}),Object(je.jsxs)("div",{children:[Object(je.jsx)(ne,{children:"Password"}),Object(je.jsx)(ce,{id:"password",type:"text",value:i,name:"Password",onChange:function(e){var n=e.target;return l(n.value)}})]}),Object(je.jsxs)(re,{id:"login-button",type:"submit",children:[" ",Object(je.jsx)(ne,{children:"Log in"})]})]})]})},Ee=function(){var e=Object(ze.f)(),n=U.a.div(v||(v=Object(R.a)(["\n  height:1400px;\n  margin: 300px;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n   background-size: cover;\n  \n  "])));return Object(je.jsxs)(n,{children:[Object(je.jsx)(ne,{children:"Wanna roll some dices? "}),Object(je.jsx)(ne,{children:" Please log in or create a new user"}),Object(je.jsx)(re,{onClick:function(){e.push("/login")},children:Object(je.jsx)(ne,{children:"Login"})}),Object(je.jsx)(re,{onClick:function(){e.push("/create")},children:Object(je.jsx)(ne,{children:"Create user"})})]})},Te=t(13),Re=U.a.div(k||(k=Object(R.a)(["\n\ndisplay:flex;\nflex-direction: row;\njustify-content: center;\npadding:10px;\n\n"]))),Ie=function(){var e=Object(M.c)((function(e){return e.user.username})),n=Object(I.useState)([]),t=Object(L.a)(n,2),r=t[0],a=t[1],c=Object(I.useState)(""),s=Object(L.a)(c,2),o=s[0],i=s[1],l=Object(I.useState)([]),u=Object(L.a)(l,2),p=u[0],j=u[1],d=Object(M.c)((function(e){return e.socket}));Object(I.useEffect)((function(){d.on("joined-username-back-from-server",(function(e){a([].concat(Object(Te.a)(r),["".concat(e," joined YatzyRoom")])),j([].concat(Object(Te.a)(p),[e]))})),d.on("new-private-room-created",(function(e,n){a([].concat(Object(Te.a)(r),["New Private Yatzyroom ".concat(e," created by ").concat(n)])),console.log("Created ",e,n)}))}),[""]),Object(I.useEffect)((function(){return d.on("chat-message-back-to-all-sockets",(function(e){console.log("chat-message-back-to-all-sockets",e),a([].concat(Object(Te.a)(r),[e]))})),function(){d.off("chat-message-back-to-all-sockets")}}),[r]);var b=function(){d.emit("chat-message",o,e),a([].concat(Object(Te.a)(r),["".concat(e,": ").concat(o)])),i(""),console.log("chatlist on seuraava",r)};return Object(je.jsx)(Re,{children:Object(je.jsxs)(ie,{children:[Object(je.jsx)(ue,{children:r.map((function(e){return Object(je.jsx)(le,{children:e},"".concat(e).concat(Math.random()))}))}),Object(je.jsx)(ce,{onKeyPress:function(e){console.log("handlekeypres",e.key),"Enter"===e.key&&b()},style:{margin:"20px"},onChange:function(e){return i(e.target.value)},id:"message",type:"text",value:o,name:"MessageInput"}),Object(je.jsx)(re,{onClick:b,children:Object(je.jsx)(ne,{children:"Send"})})]})})},Pe=function(){var e=Object(I.useState)(""),n=Object(L.a)(e,2),t=n[0],r=n[1],a=Object(I.useState)(""),c=Object(L.a)(a,2),s=c[0],o=c[1],i=Object(ze.f)(),l=Object(M.c)((function(e){return e.user.username})),u=Object(M.c)((function(e){return e.socket}));return Object(je.jsxs)("div",{children:[Object(je.jsx)(ne,{children:"Create or Join private YatzyRoom "}),Object(je.jsx)(ce,{onChange:function(e){return r(e.target.value)},id:"createInputValue",type:"text",value:t,name:"CreateRoomInput"}),Object(je.jsx)(re,{onClick:function(){u.emit("joinPrivateYatzyRoom",t),r(""),u.emit("new-private-yatzyroom",l,t)},children:Object(je.jsx)(ne,{children:"Create"})}),Object(je.jsx)(ce,{onChange:function(e){return o(e.target.value)},id:"JoinInputValue",type:"text",value:s,name:"JoinRoomInput"}),Object(je.jsx)(re,{onClick:function(){u.emit("joinPrivateYatzyRoom",s),function(e,n){e.emit("add-private-room-user",n),console.log("private-user added ",n)}(u,l),i.push("/yatzy")},children:Object(je.jsx)(ne,{children:"Join"})})]})},Ne=U.a.div(w||(w=Object(R.a)(["\n\ndisplay:flex;\nflex-direction: column;\njustify-content: flex-start;\npadding:10px;\n\n"]))),De=function(){return Object(je.jsxs)(Ne,{children:[Object(je.jsx)(pe,{children:" Welcome to YatzyHazyMazy"}),Object(je.jsx)(Ie,{}),Object(je.jsx)(Pe,{})]})},Ue=U.a.div(z||(z=Object(R.a)(["\npadding:100px;\n\n"]))),Le=function(){var e=Object(ze.f)(),n=Object(I.useState)(""),t=Object(L.a)(n,2),r=t[0],a=t[1],c=Object(I.useState)(""),s=Object(L.a)(c,2),o=s[0],i=s[1],l=function(){var n=Object(H.a)(J.a.mark((function n(t){var a;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a={username:r,password:o},console.log(a),n.next=5,ge.createUser(a);case 5:e.push("/");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(je.jsxs)(Ue,{children:[Object(je.jsx)(ne,{children:"Create new user"}),Object(je.jsxs)("form",{onSubmit:l,children:[Object(je.jsxs)("div",{children:[Object(je.jsx)(ne,{children:"Username"}),Object(je.jsx)(ce,{id:"username",type:"text",valupdateue:r,name:"Username",onChange:function(e){return a(e.target.value)}})]}),Object(je.jsxs)("div",{children:[Object(je.jsx)(ne,{children:"Password"}),Object(je.jsx)(ce,{id:"password",type:"text",value:o,name:"Password",onChange:function(e){var n=e.target;return i(n.value)}})]}),Object(je.jsx)(re,{id:"login-button",type:"submit",children:Object(je.jsx)(ne,{children:"Create"})})]})]})},Me=function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"INITPLAYERS",players:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITPLAYERS":return n.players;default:return e}},Ye=t(28),Je=t.n(Ye),He=U.a.div(C||(C=Object(R.a)(["\nheight:200px;\ndisplay:flex;\npadding: 10px;\nalign-content: stretch;\njustify-content: center;\ngap: 3%;\n"]))),Ge=function(){var e=Object(M.c)((function(e){return e.socket})),n=Object(I.useRef)(),t=Object(I.useRef)(),r=Object(I.useRef)(),a=Object(I.useRef)(),c=Object(I.useRef)(),s={dice1:n,dice2:t,dice3:r,dice4:a,dice5:c},o=Object(M.c)((function(e){return e.turn.player})),i=Object(M.c)((function(e){return e.user.username}));Object(I.useEffect)((function(){e.on("dice-value-back-form-server",(function(e,n){console.log("dice value back from server  CLIENT",e),s[n].current.rollDice(e),console.log("dicerefmapista",s[n])}))}),[""]);var l=function(n,t){o===i&&(e.emit("dice-value",n,t),console.log("diceval to server ",n,t))};return Object(je.jsxs)(He,{children:[Object(je.jsx)(Je.a,{ref:n,size:100,onRoll:function(e){return l(e,"dice1")}}),Object(je.jsx)(Je.a,{ref:t,size:100,onRoll:function(e){return l(e,"dice2")}}),Object(je.jsx)(Je.a,{ref:r,size:100,onRoll:function(e){return l(e,"dice3")}}),Object(je.jsx)(Je.a,{ref:a,size:100,onRoll:function(e){return l(e,"dice4")}}),Object(je.jsx)(Je.a,{ref:c,size:100,onRoll:function(e){return l(e,"dice5")}})]})},Ke=t(12),Ve=function(){var e=Object(ze.f)(),n=Object(M.b)(),t=Object(M.c)((function(e){return e.socket}));Object(I.useEffect)((function(){t.on("end-game-signal-from-server",(function(){e.push("/yatzyroom"),n(Me([])),n($([])),n(F([]))}))}),[""]);return Object(je.jsx)(re,{onClick:function(){console.log("EnGame Clicked"),t.emit("end-game"),console.log("deleeteall clicked"),Z.deleteAll()},children:Object(je.jsx)(ne,{children:"End Game"})})},We=function(){var e=Object(ze.f)(),n=Object(M.b)(),t=Object(M.c)((function(e){return e.user.username})),r=Object(M.c)((function(e){return e.socket})),a=function(){var a=Object(H.a)(J.a.mark((function a(){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:"STOREUSER",user:null});case 2:e.push("/"),console.log("perse logged out"),r.emit("player-log-out",t);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(je.jsx)(se,{children:Object(je.jsx)(Ke.b,{onClick:a,style:{textDecoration:"none"},to:"/",children:Object(je.jsx)(te,{children:"Log out"})})})},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADDUSER":return e.concat(n.user);default:return e}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETPRIVATEROOM":return n.privateroom;default:return e}},Ze=U.a.div(S||(S=Object(R.a)(["\n\nwidth: 1000px;\ndisplay:flex;\nflex-direction: row;\njustify-content: center;\npadding:10px;\n\n"]))),Fe=function(){var e=Object(M.b)(),n=Object(M.c)((function(e){return e.user.username})),t=Object(I.useState)([]),r=Object(L.a)(t,2),a=r[0],c=r[1],s=Object(I.useState)(""),o=Object(L.a)(s,2),i=o[0],l=o[1],u=Object(M.c)((function(e){return e.privateRoom})),p=Object(M.c)((function(e){return e.socket}));Object(I.useEffect)((function(){p.on("private-room",(function(n){var t;e((t=n,function(){var e=Object(H.a)(J.a.mark((function e(n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SETPRIVATEROOM",privateroom:t});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))}))}),[""]),Object(I.useEffect)((function(){return p.on("chat-message-back-to-privatechat",(function(e){console.log("chat-message-back-to-all-sockets",e),c([].concat(Object(Te.a)(a),[e]))})),function(){p.off("chat-message-back-to-privatechat")}}),[a]);var j=function(){p.emit("private-chat-message",u,i,n),console.log("privateroom sendclkicdeist\xe4",u),c([].concat(Object(Te.a)(a),["".concat(n,": ").concat(i)])),console.log("privateroom",u),function(){var e=document.getElementById("yatzychat123");console.log("elemetn ====",e),e.scrollTop=e.scrollHeight}(),l("")};return Object(je.jsx)(Ze,{children:Object(je.jsxs)(ie,{id:"yatzychat123",children:[Object(je.jsx)(ue,{children:a.map((function(e){return Object(je.jsx)(le,{children:e},"".concat(e).concat(Math.random()))}))}),Object(je.jsx)(ce,{onKeyPress:function(e){console.log("handlekeypres",e.key),"Enter"===e.key&&j()},onChange:function(e){return l(e.target.value)},id:"message",type:"text",value:i,name:"MessageInput"}),Object(je.jsx)(re,{onClick:j,children:Object(je.jsx)(ne,{children:"Send"})})]})})},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETSOCKET":return n.socket;default:return e}},Qe=U.a.div(E||(E=Object(R.a)(["\n  \n  display:flex;\n  flex-direction: row;\n  justify-content: center;\n  padding:10px;\n  align-items: flex-start;\n\n  "]))),$e=function(){var e=Object(M.b)(),n="http://localhost:3003";Object(I.useEffect)((function(){var t=Object(D.io)(n);e(function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"SETSOCKET",socket:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t)),console.log("socket reducerista on",t),t.on("online-user-back-to-all",(function(n){console.log("username clientside vastaan otto takaisin servulta"),e(function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"ADDUSER",user:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n))})),t.on("delete-user-from-players-in-lobby",(function(e){console.log("userDELETED FROM lobbylist iwth id ",e)})),t.on("sockets-yatzy-room",(function(e){console.log("sockets in yatzyroom client ",e)})),t.on("players-in-private-yatzyroom",(function(n){console.log("players app.js clientista",n),e(Me(n)),e($(n)),e(F(n))}))}),[n]);var t=Object(M.c)((function(e){return e.socket}));console.log("socket reducerista",t);var r=Object(M.c)((function(e){return e.user})),a=Object(M.c)((function(e){return e.points})),c=Object(M.c)((function(e){return e.turn.player}));return Object(je.jsxs)(Ke.a,{children:[Object(je.jsxs)(oe,{children:[Object(je.jsxs)(se,{children:["  ",Object(je.jsx)(Ke.b,{style:{textDecoration:"none"},to:"/",children:Object(je.jsx)(te,{children:"Home"})})]}),r&&Object(je.jsxs)(ne,{children:[r.username," logged in"]}),r&&Object(je.jsx)(se,{children:Object(je.jsx)(Ke.b,{style:{textDecoration:"none"},to:"/yatzyroom",children:Object(je.jsx)(te,{children:"Yatzyroom"})})}),r&&Object(je.jsx)(We,{}),null===r&&Object(je.jsx)(se,{children:Object(je.jsx)(Ke.b,{style:{textDecoration:"none"},to:"/login",children:Object(je.jsx)(te,{children:"Login"})})}),null===r&&Object(je.jsx)(se,{children:Object(je.jsx)(Ke.b,{style:{textDecoration:"none"},to:"/create",children:Object(je.jsx)(te,{children:"Create user"})})})]}),Object(je.jsxs)(ze.c,{children:[Object(je.jsxs)(ze.a,{path:"/yatzy",children:[Object(je.jsx)(pe,{children:"Private YatzyHazyMazy"}),0!==a.length&&Object(je.jsx)(Ge,{}),Object(je.jsxs)(Qe,{children:[0!==a.length&&Object(je.jsx)(ye,{}),0!==a.length&&Object(je.jsxs)(ne,{children:[c,"n  turn"]}),Object(je.jsx)(Fe,{})]}),console.log("points",a),0===a.length&&Object(je.jsx)(re,{onClick:function(){t.emit("give-private-players")},children:Object(je.jsx)(ne,{children:"Start Game"})}),0!==a.length&&Object(je.jsx)(Ve,{})]}),Object(je.jsx)(ze.a,{path:"/yatzyroom",children:Object(je.jsx)(De,{})}),Object(je.jsx)(ze.a,{path:"/create",children:Object(je.jsx)("div",{children:Object(je.jsx)(Le,{})})}),Object(je.jsx)(ze.a,{path:"/login",children:Object(je.jsx)("div",{children:Object(je.jsx)(Se,{})})}),Object(je.jsx)(ze.a,{path:"/",children:Object(je.jsx)("div",{children:Object(je.jsx)(Ee,{})})})]})]})},_e=t(32),en=t(74),nn=t(75),tn=t.p+"static/media/background-mountain.a3b7d252.jpg",rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DICESET":return n.val;default:return e}},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETCHATLOG":return[].concat(Object(Te.a)(e),[n.message]);default:return e}},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETCHATLOG":return[].concat(Object(Te.a)(e),[n.message]);default:return e}},sn=U.a.div(T||(T=Object(R.a)(["\nheight:2000px;\nflex-direction: column;\nalign-items: center;\ntext-align: center;\n background: url(",")no-repeat center fixed; \n background-size: cover;\n\n"])),tn),on=Object(_e.combineReducers)({points:Q,players:Ae,turn:ee,user:we,onlineUsers:Be,dice:rn,privateRoom:Xe,privatechatLog:an,socket:qe,chatLog:cn}),ln=Object(_e.createStore)(on,Object(en.composeWithDevTools)(Object(_e.applyMiddleware)(nn.a)));N.a.render(Object(je.jsx)(M.a,{store:ln,children:Object(je.jsx)(sn,{children:Object(je.jsx)($e,{})})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.1a1fe7c5.chunk.js.map