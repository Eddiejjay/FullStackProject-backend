(this.webpackJsonpyatzy=this.webpackJsonpyatzy||[]).push([[0],{132:function(e,n,t){"use strict";t.r(n);var r,a,c,s,o,i,l,u,p,j,d,b,x,f,O,h,m,y,g,v,k,w,z,C,S,R,T,I=t(3),E=t(1),N=t(35),D=t.n(N),P=t(2),U=t.n(P),L=t(5),M=t(4),A=t(9),Y=t(7),J=t(24),H=t(23),B=t.n(H),G="/api/points",V=function(){var e=Object(L.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get(G);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(L.a)(U.a.mark((function e(){var n,t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return n=e.sent,e.next=5,n.map((function(e){return console.log("deelte",B.a.delete("".concat(G,"/").concat(e.id)))}));case 5:return t=e.sent,console.log("deleteAll ",t.data),e.abrupt("return",t.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(L.a)(U.a.mark((function e(n,t,r){var a,c,s,o,i,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return a=e.sent,e.next=5,a.find((function(e){return e.player===n}));case 5:return c=e.sent,s=c.id,(o=c.points)[t]=r,i=Object(J.a)(Object(J.a)({},c),{},{points:Object(J.a)({},o)}),e.next=12,B.a.put("".concat(G,"/").concat(s),i);case 12:return l=e.sent,e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Z={getAll:V,postPoints:function(){var e=Object(L.a)(U.a.mark((function e(n){var t,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={points:{ykkoset:0,kakkoset:0,kolmoset:0,neloset:0,vitoset:0,kutoset:0,valisumma:0,bonus:0,pari:0,kaksiparia:0,kolmesamaa:0,neljasamaa:0,pikkusuora:0,isosuora:0,tayskasi:0,sattuma:0,yatzy:0,pisteet:0},player:n},e.next=3,B.a.post(G,t);case 3:return r=e.sent,console.log("response dataaa",r.data),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),deleteAll:W,updatePoints:X},F=function(e,n,t){return function(){var r=Object(L.a)(U.a.mark((function r(a){return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Z.updatePoints(e,n,t);case 2:a({type:"ADDTURNSPOINTS",player:e,combination:n,points:t});case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITPOINTS":return n.points;case"ADDTURNSPOINTS":var t=e.find((function(e){return e.player===n.player})),r=t.points,a=n.combination;r[a]=n.points;var c=Object(J.a)(Object(J.a)({},t),{},{points:Object(J.a)({},r)});return e.map((function(e){return e.player!==t.player?e:c}));default:return e}},K=function(e,n,t){return function(){var r=Object(L.a)(U.a.mark((function r(a){var c;return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("turn = ",n,"maxTurn =",t),c=n===t?0:n+1,a({type:"NEXTTURN",maxTurns:e.length-1,turn:c,player:e[c]});case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITIALIZETURN":case"NEXTTURN":return{turn:n.turn,maxTurns:n.maxTurns,player:n.player};default:return e}},$=M.a.div(r||(r=Object(I.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 25px;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),_=M.a.div(a||(a=Object(I.a)(['\npadding: 0px;\ncolor:white;\nfont-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\n\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;']))),ee=M.a.button(c||(c=Object(I.a)(["\nmargin: 10px;\npadding:0x;\nbackground: transparent;\nborder: 5px groove rgba(20,20,20,0.17);\n&:hover {\n  background: \trgb(255,240,219,0.5)\n  \n}\n\n\n"]))),ne=M.a.div(s||(s=Object(I.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 17x;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),te=M.a.input(o||(o=Object(I.a)(["\n\npadding:6px;\nfont-size: 25px;\nborder-width: 0px;\nbox-shadow: 0px 0px 5px rgba(66,66,66,.75);\n   background: transparent;\n   border: 5px groove rgba(20,20,20,0.17);\n   &:hover {\n    background: rgb(250, 249, 249,0.4)\n    \n  }\n   \n"]))),re=M.a.div(i||(i=Object(I.a)(["\nfont-family: \"Lucida Console\", Monaco, monospace;\nfont-size: 27px;\nletter-spacing: 0px;\nword-spacing: 0px;\ncolor: #000000;\nfont-weight: 700;\ntext-decoration: none;\nfont-style: normal;\nfont-variant: normal;\ntext-transform: none;\npadding: 10px;\ntextDecoration: 'none';\n&:hover {\nbackground: rgb(255,240,219,0.5)\n}\n\n"]))),ae=M.a.nav(l||(l=Object(I.a)(["\ndisplay: flex;\nflex-direction: row;\nbackground: rgba(7,7,7, 0.1);\njustify-content: space-around;\nheight : 45px;\n\n"]))),ce=M.a.div(u||(u=Object(I.a)(["\nborder: 10px groove rgba(20,20,20,0.17);\nbox-sizing: content-box;\nmargin: 75px;\nwidth: 1200px;\nheight: 400px;\npadding: 5px;\ndisplay:flex;\nflex-direction: column;\njustify-content: flex-end;\noverflow: auto;\n"]))),se=M.a.div(p||(p=Object(I.a)(["\nwidth: 900px;\ncolor:black;\nfont-size: 25px;\njustify-content: left;\ntext-align: left;\n\n"]))),oe=M.a.div(j||(j=Object(I.a)(["\noverflow-y: scroll\n"]))),ie=t(73),le=Object(ie.io)("/"),ue=function(e){le.emit("add-online-user",e),console.log("socketsrvicesta\xe4 added ",e)},pe=function(e){le.emit("add-private-room-user",e),console.log("private-user added ",e)},je=t(0),de=M.a.table(d||(d=Object(I.a)(["\n\n    margin-left: auto;\n    margin-right: auto;\n    display:flex;\n    justify-content: center;\n    row-gap: 20px;\n    column-gap: 2rem;\n    border-collapse: collapse; \n\n  \n    \n\n    "]))),be=M.a.td(b||(b=Object(I.a)(['\n\ndisplay:flex;\njustify-content:center;\n color:white;\n font-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\n\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;\n    ']))),xe=M.a.tr(x||(x=Object(I.a)(["\n\n\nborder: 5px groove rgba(20,20,20,0.17);\nborder-radius: 40px 40px 40px 40px;\n\n"]))),fe=M.a.td(f||(f=Object(I.a)(["\n        padding : 5px; \n        width : 70px;   \n        font : cursive;\n        color: white;\n        font-size: 25px;\n        \n        "]))),Oe=M.a.td(O||(O=Object(I.a)(["\nwidth: 40px;\n"]))),he=M.a.input(h||(h=Object(I.a)(["\nwidth : 65px;   \n        border-style: double;\n        background: transparent;\n        border: 3px groove rgba(164,164,164,0.17);\n        &:hover {\n          background: #fff0db;\n          \n        }\n\n        "]))),me=M.a.td(m||(m=Object(I.a)(['\n color:white;\n font-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;\npadding: 10px;\n']))),ye=function(){var e=Object(Y.b)(),n=Object(E.useState)([]),t=Object(A.a)(n,2),r=t[0],a=t[1],c=["ykkoset","kakkoset","kolmoset","neloset","vitoset","kutoset","valisumma","bonus","pari","kaksiparia","kolmesamaa","neljasamaa","pikkusuora","isosuora","tayskasi","sattuma","yatzy","pisteet"],s=Object(Y.c)((function(e){return e.players})),o=Object(Y.c)((function(e){return e.turn}));console.log("turn",o),le.on("turns-stats",(function(n,t,r){e(F(n,t,Number(r))),e(K(s,o.turn,o.maxTurns))})),le.on("valisummaPoints",(function(n){console.log("valsummaallPoisnts",n),n.map((function(n){return e(F(n.player,"valisumma",p(n.points)))})),n.map((function(n){return e(F(n.player,"bonus",p(n.points)<63?0:50))}))}));var i=function(e){e.preventDefault(),console.log("target.name ",e.target.name);var n=e.target.name.split(",");n.push(e.target.value),a(n)},l=Object(Y.c)((function(e){return e.points})),u=function(e){return Object.values(e).slice(6,15).reduce((function(e,n){return e+n}),0)},p=function(e){return Object.values(e).slice(0,6).reduce((function(e,n){return e+n}),0)};return Object(je.jsxs)("div",{children:[Object(je.jsx)(de,{children:Object(je.jsxs)("tbody",{children:[Object(je.jsxs)(xe,{children:[Object(je.jsx)(Oe,{}),s.map((function(e){return Object(je.jsx)(me,{children:e},"nimikentta"+e)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[0]}),l.map((function(e){return 0===e.points.ykkoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[0],e.player],onChange:i})," "]},"ykkosetinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.ykkoset," "]},"ykkoset"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[1]}),l.map((function(e){return 0===e.points.kakkoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[1],e.player],onChange:i})," "]},"kakkosetinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.kakkoset," "]},"kakkoset"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[2]}),l.map((function(e){return 0===e.points.kolmoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[2],e.player],onChange:i})," "]},"kolmosetinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.kolmoset," "]},"kolmoset"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[3]}),l.map((function(e){return 0===e.points.neloset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[3],e.player],onChange:i})," "]},"nelosettinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.neloset," "]},"neloset"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[4]}),l.map((function(e){return 0===e.points.vitoset&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[4],e.player],onChange:i})," "]},"vitosetinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.vitoset," "]},"vitoset"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[5]}),l.map((function(e){return 0===e.points.kutoset&&e.player===o.player?Object(je.jsx)("td",{children:Object(je.jsx)(he,{name:[c[5],e.player],onChange:i})},"kutosetinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.kutoset," "]},"kutoset"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[6]}),l.map((function(e){return Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.valisumma," "]},"valisumma"+e.player)})),Object(je.jsx)("td",{children:Object(je.jsx)(ee,{onClick:function(){l.map((function(n){return e(F(n.player,"valisumma",p(n.points)))})),l.map((function(n){return e(F(n.player,"bonus",p(n.points)<63?0:50))})),le.emit("valisumma-calculation",l)},children:Object(je.jsx)(ne,{children:"Laske"})})})]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[7]}),l.map((function(e){return Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.bonus," "]},"bonus"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[8]}),l.map((function(e){return 0===e.points.pari&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[8],e.player],onChange:i})," "]},"pariinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.pari," "]},"pari"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[9]}),l.map((function(e){return 0===e.points.kaksiparia&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[9],e.player],onChange:i})," "]},"kaksipariainput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.kaksiparia," "]},"kaksiparia"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[10]}),l.map((function(e){return 0===e.points.kolmesamaa&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[10],e.player],onChange:i})," "]},"kolmesamaainput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.kolmesamaa," "]},"kolmesamaa"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[11]}),l.map((function(e){return 0===e.points.neljasamaa&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[11],e.player],onChange:i})," "]},"neljasamaainput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.neljasamaa," "]},"neljasamaa"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[12]}),l.map((function(e){return 0===e.points.pikkusuora&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[12],e.player],onChange:i})," "]},"pikkusuorainput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.pikkusuora," "]},"pikkusuora"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[13]}),l.map((function(e){return 0===e.points.isosuora&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[13],e.player],onChange:i})," "]},"isosuorainput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.isosuora," "]},"isosuora"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[14]}),l.map((function(e){return 0===e.points.tayskasi&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[14],e.player],onChange:i})," "]},"tayskasiinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.tayskasi," "]},"tayskasi"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[15]}),l.map((function(e){return 0===e.points.sattuma&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[15],e.player],onChange:i})," "]},"sattumainput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.sattuma," "]},"sattuma"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[16]}),l.map((function(e){return 0===e.points.yatzy&&e.player===o.player?Object(je.jsxs)("td",{children:[Object(je.jsx)(he,{name:[c[16],e.player],onChange:i})," "]},"yatzyinput"+e.player):Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.yatzy," "]},"yatzy"+e.player)}))]}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(be,{children:c[17]}),l.map((function(e){return Object(je.jsxs)(fe,{name:e.player,children:[" ",e.points.pisteet," "]},"pisteet"+e.player)})),Object(je.jsx)("td",{children:Object(je.jsx)(ee,{onClick:function(){l.map((function(n){return e(F(n.player,"pisteet",u(n.points)))}))},children:Object(je.jsx)(ne,{children:"Laske"})})})]})]})}),Object(je.jsx)(ee,{onClick:function(){var n=r[1],t=r[0],a=r[2];e(F(n,t,Number(a))),le.emit("turn-ready",n,t,a,o.turn,o.maxturns),e(K(s,o.turn,o.maxTurns))},children:Object(je.jsx)(ne,{children:"Ready"})})]})},ge={login:function(){var e=Object(L.a)(U.a.mark((function e(n){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("/api/login",n);case 2:return t=e.sent,console.log("loginservice response",t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(L.a)(U.a.mark((function e(n){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("/api/users",n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},ve=function(e){return function(){var n=Object(L.a)(U.a.mark((function n(t){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ge.login(e);case 2:r=n.sent,console.log("userobject",r),ue(r.username),window.localStorage.setItem("loggedUser",JSON.stringify(r)),t({type:"STOREUSER",user:r});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ke=function(e){return{type:"STOREUSER",user:e}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"STOREUSER":return n.user;default:return e}},ze=t(8),Ce=M.a.div(y||(y=Object(I.a)(["\npadding:100px;\n\n"]))),Se=function(){var e=Object(ze.f)(),n=Object(Y.b)(),t=Object(E.useState)(""),r=Object(A.a)(t,2),a=r[0],c=r[1],s=Object(E.useState)(""),o=Object(A.a)(s,2),i=o[0],l=o[1],u=function(){var t=Object(L.a)(U.a.mark((function t(r){var c,s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),c={username:a,password:i},console.log(c),t.next=5,n(ve(c));case 5:s=t.sent,console.log("loggedinuser = ",s),e.push("/yatzyroom"),le.emit("joined-yatzyroom",c.username);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(je.jsxs)(Ce,{children:[Object(je.jsx)($,{children:"Stop wondering, log in and roll it! "}),Object(je.jsxs)("form",{onSubmit:u,children:[Object(je.jsxs)("div",{children:[Object(je.jsx)($,{children:"Username"}),Object(je.jsx)(te,{id:"username",type:"text",value:a,name:"Username",onChange:function(e){return c(e.target.value)}})]}),Object(je.jsxs)("div",{children:[Object(je.jsx)($,{children:"Password"}),Object(je.jsx)(te,{id:"password",type:"text",value:i,name:"Password",onChange:function(e){var n=e.target;return l(n.value)}})]}),Object(je.jsxs)(ee,{id:"login-button",type:"submit",children:[" ",Object(je.jsx)($,{children:"Log in"})]})]})]})},Re=function(){var e=Object(ze.f)(),n=M.a.div(g||(g=Object(I.a)(["\n  height:1400px;\n  margin: 300px;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n   background-size: cover;\n  \n  "])));return Object(je.jsxs)(n,{children:[Object(je.jsx)($,{children:" Hello friend, welcome to this multiplayer yatzyhazymazy"}),Object(je.jsx)($,{children:" Please log in or create a new user"}),Object(je.jsx)(ee,{onClick:function(){e.push("/login")},children:Object(je.jsx)($,{children:"Login"})}),Object(je.jsx)(ee,{onClick:function(){e.push("/create")},children:Object(je.jsx)($,{children:"Create user"})})]})},Te=t(16),Ie=M.a.div(v||(v=Object(I.a)(["\n\ndisplay:flex;\nflex-direction: row;\njustify-content: center;\npadding:10px;\n\n"]))),Ee=function(){var e=Object(Y.c)((function(e){return e.user.username})),n=Object(E.useState)([]),t=Object(A.a)(n,2),r=t[0],a=t[1],c=Object(E.useState)(""),s=Object(A.a)(c,2),o=s[0],i=s[1],l=Object(E.useState)([]),u=Object(A.a)(l,2),p=u[0],j=u[1];le.on("chat-message-back-to-all-sockets",(function(e){console.log("chat-message-back-to-all-sockets",e),a([].concat(Object(Te.a)(r),[e]))})),le.on("joined-username-back-from-server",(function(e){a([].concat(Object(Te.a)(r),["".concat(e," joined YatzyRoom")])),j([].concat(Object(Te.a)(p),[e]))})),le.on("new-private-room-created",(function(e,n){a([].concat(Object(Te.a)(r),["New Private Yatzyroom ".concat(e," created by ").concat(n)])),console.log("Created ",e,n)}));return Object(je.jsx)(Ie,{children:Object(je.jsxs)(ce,{children:[Object(je.jsx)(oe,{children:r.map((function(e){return Object(je.jsx)(se,{children:e},"".concat(e).concat(Math.random()))}))}),Object(je.jsx)(te,{style:{margin:"20px"},onChange:function(e){return i(e.target.value)},id:"message",type:"text",value:o,name:"MessageInput"}),Object(je.jsx)(ee,{onClick:function(){le.emit("chat-message",o,e),a([].concat(Object(Te.a)(r),["".concat(e,": ").concat(o)])),i("")},children:Object(je.jsx)($,{children:"Send"})})]})})},Ne=function(){var e=Object(E.useState)(""),n=Object(A.a)(e,2),t=n[0],r=n[1],a=Object(E.useState)(""),c=Object(A.a)(a,2),s=c[0],o=c[1],i=Object(ze.f)(),l=Object(Y.c)((function(e){return e.user.username}));return Object(je.jsxs)("div",{children:[Object(je.jsx)($,{children:"Create private YatzyRoom"}),Object(je.jsx)(te,{onChange:function(e){return r(e.target.value)},id:"createInputValue",type:"text",value:t,name:"CreateRoomInput"}),Object(je.jsx)(ee,{onClick:function(){le.emit("joinPrivateYatzyRoom",t),r(""),le.emit("new-private-yatzyroom",l,t)},children:Object(je.jsx)($,{children:"Create"})}),Object(je.jsx)(te,{onChange:function(e){return o(e.target.value)},id:"JoinInputValue",type:"text",value:s,name:"JoinRoomInput"}),Object(je.jsx)(ee,{onClick:function(){le.emit("joinPrivateYatzyRoom",s),pe(l),i.push("/yatzy")},children:Object(je.jsx)($,{children:"Join"})})]})},De=M.a.div(k||(k=Object(I.a)(["\n\ndisplay:flex;\nflex-direction: column;\njustify-content: flex-start;\npadding:10px;\n\n"]))),Pe=M.a.div(w||(w=Object(I.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 40px;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),Ue=function(){return Object(je.jsxs)(De,{children:[Object(je.jsx)(Pe,{children:" Welcome to YatzyRoom"}),Object(je.jsx)(Ee,{}),Object(je.jsx)(Ne,{})]})},Le=M.a.div(z||(z=Object(I.a)(["\npadding:100px;\n\n"]))),Me=function(){var e=Object(ze.f)(),n=Object(E.useState)(""),t=Object(A.a)(n,2),r=t[0],a=t[1],c=Object(E.useState)(""),s=Object(A.a)(c,2),o=s[0],i=s[1],l=function(){var n=Object(L.a)(U.a.mark((function n(t){var a;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a={username:r,password:o},console.log(a),n.next=5,ge.createUser(a);case 5:e.push("/");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(je.jsxs)(Le,{children:[Object(je.jsx)($,{children:"Create new user"}),Object(je.jsxs)("form",{onSubmit:l,children:[Object(je.jsxs)("div",{children:[Object(je.jsx)($,{children:"Username"}),Object(je.jsx)(te,{id:"username",type:"text",valupdateue:r,name:"Username",onChange:function(e){return a(e.target.value)}})]}),Object(je.jsxs)("div",{children:[Object(je.jsx)($,{children:"Password"}),Object(je.jsx)(te,{id:"password",type:"text",value:o,name:"Password",onChange:function(e){var n=e.target;return i(n.value)}})]}),Object(je.jsx)(ee,{id:"login-button",type:"submit",children:Object(je.jsx)($,{children:"Create"})})]})]})},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITPLAYERS":return n.players;default:return e}},Ye=t(28),Je=t.n(Ye),He=function(){var e=Object(E.useRef)(),n=Object(E.useRef)(),t=Object(E.useRef)(),r=Object(E.useRef)(),a=Object(E.useRef)(),c={dice1:e,dice2:n,dice3:t,dice4:r,dice5:a},s=Object(Y.c)((function(e){return e.turn.player})),o=Object(Y.c)((function(e){return e.user.username})),i=M.a.div(C||(C=Object(I.a)(["\n  height:200px;\n  display:flex;\n  align-content: stretch;\n  justify-content: center;\n  gap: 3%;\n"])));Object(E.useEffect)((function(){}),[]);var l=function(e,n){s===o&&(le.emit("dice-value",e,n),console.log("diceval to server ",e,n))};return le.on("dice-value-back-form-server",(function(e,n){console.log("dice value back from server  CLIENT",e),c[n].current.rollDice(e),console.log("dicerefmapista",c[n])})),Object(je.jsxs)(i,{children:[Object(je.jsx)(Je.a,{ref:e,size:100,onRoll:function(e){return l(e,"dice1")}}),Object(je.jsx)(Je.a,{ref:n,size:100,onRoll:function(e){return l(e,"dice2")}}),Object(je.jsx)(Je.a,{ref:t,size:100,onRoll:function(e){return l(e,"dice3")}}),Object(je.jsx)(Je.a,{ref:r,size:100,onRoll:function(e){return l(e,"dice4")}}),Object(je.jsx)(Je.a,{ref:a,size:100,onRoll:function(e){return l(e,"dice5")}})]})},Be=t(15),Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADDUSER":return e.concat(n.user);default:return e}},Ve=M.a.div(S||(S=Object(I.a)(["\n\nwidth: 1000px;\ndisplay:flex;\nflex-direction: row;\njustify-content: center;\npadding:10px;\n\n"]))),We=function(){var e=Object(Y.c)((function(e){return e.user.username})),n=Object(E.useState)([]),t=Object(A.a)(n,2),r=t[0],a=t[1],c=Object(E.useState)(""),s=Object(A.a)(c,2),o=s[0],i=s[1],l=Object(E.useState)([]),u=Object(A.a)(l,2),p=u[0],j=u[1],d=Object(E.useState)(""),b=Object(A.a)(d,2),x=b[0],f=b[1];le.on("chat-message-back-to-privatechat",(function(e){console.log("chat-message-back-to-all-sockets",e),a([].concat(Object(Te.a)(r),[e]))})),le.on("joined-username-back-from-server",(function(e){a([].concat(Object(Te.a)(r),["".concat(e," joind YatzyRooms")])),j([].concat(Object(Te.a)(p),[e]))})),le.on("private-room",(function(e){f(e)}));return Object(je.jsx)(Ve,{children:Object(je.jsxs)(ce,{id:"yatzychat123",children:[Object(je.jsx)(oe,{children:r.map((function(e){return Object(je.jsx)(se,{children:e},"".concat(e).concat(Math.random()))}))}),Object(je.jsx)(te,{onChange:function(e){return i(e.target.value)},id:"message",type:"text",value:o,name:"MessageInput"}),Object(je.jsx)(ee,{onClick:function(){le.emit("private-chat-message",x,o,e),console.log("privateroom sendclkicdeist\xe4",x),a([].concat(Object(Te.a)(r),["".concat(e,": ").concat(o)])),function(){var e=document.getElementById("yatzychat123");console.log("elemetn ====",e),e.scrollTop=e.scrollHeight}(),i("")},children:Object(je.jsx)($,{children:"Send"})})]})})},Xe=function(){var e=Object(ze.f)(),n=Object(Y.b)();le.on("online-user-back-to-all",(function(e){console.log("username clientside vastaan otto takaisin servulta"),n(function(e){return function(){var n=Object(L.a)(U.a.mark((function n(t){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"ADDUSER",user:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e))})),le.on("delete-user-from-players-in-lobby",(function(e){console.log("userDELETED FROM lobbylist iwth id ",e)})),le.on("sockets-yatzy-room",(function(e){console.log("sockets in yatzyroom client ",e)}));var t=Object(Y.c)((function(e){return e.user})),r=Object(Y.c)((function(e){return e.points})),a=M.a.div(R||(R=Object(I.a)(["\n  \n  display:flex;\n  flex-direction: row;\n  justify-content: center;\n  padding:10px;\n  align-items: flex-start;\n\n  "])));le.on("players-in-private-yatzyroom",(function(e){console.log("players app.js clientista",e),n(function(e){return function(){var n=Object(L.a)(U.a.mark((function n(t){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"INITPLAYERS",players:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e)),n(function(e){return function(){var n=Object(L.a)(U.a.mark((function n(t){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"INITIALIZETURN",maxTurns:e.length-1,turn:0,player:e[0]});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e)),n(function(e){return function(){var n=Object(L.a)(U.a.mark((function n(t){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("players reducerista ",e),n.next=3,Promise.all(e.map(function(){var e=Object(L.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.postPoints(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:r=n.sent,console.log("done",r),t({type:"INITPOINTS",points:r});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e))}));var c=function(){var t=Object(L.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(ke(null));case 2:e.push("/home"),console.log("perse logged out");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(je.jsxs)(Be.a,{children:[Object(je.jsxs)(ae,{children:[Object(je.jsxs)(re,{children:["  ",Object(je.jsx)(Be.b,{style:{textDecoration:"none"},to:"/",children:Object(je.jsx)(_,{children:"Home"})})]}),t&&Object(je.jsxs)($,{children:[t.username," logged in"]}),t&&Object(je.jsx)(re,{children:Object(je.jsx)(Be.b,{style:{textDecoration:"none"},to:"/yatzyroom",children:Object(je.jsx)(_,{children:"Yatzyroom"})})}),t&&Object(je.jsx)(re,{children:Object(je.jsx)(Be.b,{onClick:c,style:{textDecoration:"none"},to:"/",children:Object(je.jsx)(_,{children:"Log out"})})}),null===t&&Object(je.jsx)(re,{children:Object(je.jsx)(Be.b,{style:{textDecoration:"none"},to:"/login",children:Object(je.jsx)(_,{children:"Login"})})}),null===t&&Object(je.jsx)(re,{children:Object(je.jsx)(Be.b,{style:{textDecoration:"none"},to:"/create",children:Object(je.jsx)(_,{children:"Create user"})})})]}),Object(je.jsxs)(ze.c,{children:[Object(je.jsxs)(ze.a,{path:"/yatzy",children:[Object(je.jsx)("h1",{children:"Yatzy"}),Object(je.jsx)(He,{}),Object(je.jsxs)(a,{children:[Object(je.jsx)(ye,{}),Object(je.jsx)(We,{})]}),Object(je.jsx)("button",{onClick:function(){console.log("deleeteall clicked"),Z.deleteAll()},children:"delete points from database"}),console.log("points",r),0===r.length&&Object(je.jsx)(ee,{onClick:function(){le.emit("give-private-players")},children:Object(je.jsx)($,{children:"Start Game"})}),0!==r.length&&Object(je.jsx)(ee,{children:Object(je.jsx)($,{children:"End Game"})})]}),Object(je.jsx)(ze.a,{path:"/yatzyroom",children:Object(je.jsx)(Ue,{})}),Object(je.jsx)(ze.a,{path:"/create",children:Object(je.jsx)("div",{children:Object(je.jsx)(Me,{})})}),Object(je.jsx)(ze.a,{path:"/login",children:Object(je.jsx)("div",{children:Object(je.jsx)(Se,{})})}),Object(je.jsx)(ze.a,{path:"/",children:Object(je.jsx)("div",{children:Object(je.jsx)(Re,{})})})]})]})},Ze=t(32),Fe=t(74),qe=t(75),Ke=t.p+"static/media/background-mountain.a3b7d252.jpg",Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DICESET":return n.val;default:return e}},$e=M.a.div(T||(T=Object(I.a)(["\nheight:2000px;\nflex-direction: column;\nalign-items: center;\ntext-align: center;\n background: url(",")no-repeat center fixed; \n background-size: cover;\n\n"])),Ke),_e=Object(Ze.combineReducers)({points:q,players:Ae,turn:Q,user:we,onlineUsers:Ge,dice:Qe}),en=Object(Ze.createStore)(_e,Object(Fe.composeWithDevTools)(Object(Ze.applyMiddleware)(qe.a)));D.a.render(Object(je.jsx)(Y.a,{store:en,children:Object(je.jsx)($e,{children:Object(je.jsx)(Xe,{})})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.b5c5fe1e.chunk.js.map